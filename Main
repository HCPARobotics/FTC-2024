package org.firstinspires.ftc.teamcode;

import com.qualcomm.robotcore.eventloop.opmode.OpMode;
import com.qualcomm.robotcore.hardware.DcMotor;
import com.qualcomm.robotcore.hardware.Servo;

public class RobotControl extends OpMode {

    DcMotor leftDrive, rightDrive, armMotor, wristMotor, intakeMotor;
    Servo clawServo;

    @Override
    public void init() {
        leftDrive = hardwareMap.dcMotor.get("left_drive");
        rightDrive = hardwareMap.dcMotor.get("right_drive");
        armMotor = hardwareMap.dcMotor.get("arm_motor");
        wristMotor = hardwareMap.dcMotor.get("wrist_motor");
        intakeMotor = hardwareMap.dcMotor.get("intake_motor");
        clawServo = hardwareMap.servo.get("claw_servo");

        leftDrive.setZeroPowerBehavior(DcMotor.ZeroPowerBehavior.BRAKE);
        rightDrive.setZeroPowerBehavior(DcMotor.ZeroPowerBehavior.BRAKE);
        armMotor.setZeroPowerBehavior(DcMotor.ZeroPowerBehavior.BRAKE);
        wristMotor.setZeroPowerBehavior(DcMotor.ZeroPowerBehavior.BRAKE);

        leftDrive.setDirection(DcMotor.Direction.FORWARD);
        rightDrive.setDirection(DcMotor.Direction.REVERSE);
        armMotor.setDirection(DcMotor.Direction.FORWARD);
        wristMotor.setDirection(DcMotor.Direction.FORWARD);
        intakeMotor.setDirection(DcMotor.Direction.FORWARD);
    }

    @Override
    public void loop() {
        // Drive control
        float leftDrivePower = -gamepad1.left_stick_y;
        float rightDrivePower = -gamepad1.right_stick_y;
        leftDrive.setPower(leftDrivePower);
        rightDrive.setPower(rightDrivePower);

        // Arm control
        float armPower = -gamepad2.right_stick_y;
        armMotor.setPower(armPower);

        // Wrist control
        float wristPower = -gamepad2.left_trigger * 0.5f;
        wristMotor.setPower(wristPower);

        // Claw control
        if (gamepad2.left_bumper) {
            clawServo.setPosition(1);
        } else if (gamepad2.left_trigger > 0.1) {
            clawServo.setPosition(0);
        }

        // Intake control
        if (gamepad2.right_trigger > 0.1) {
            intakeMotor.setPower(1);
        } else if (gamepad2.right_bumper) {
            intakeMotor.setPower(-1);
        } else {
            intakeMotor.setPower(0);
        }
    }

    @Override
    public void stop() {
        leftDrive.setPower(0);
        rightDrive.setPower(0);
        armMotor.setPower(0);
        wristMotor.setPower(0);
        intakeMotor.setPower(0);
    }
}


